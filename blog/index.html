<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blog | Cyryl Bitangcol Portfolio</title>
    <meta name="description"
        content="Read the latest insights on web development, artistic engineering, and design systems from Cyryl Bitangcol.">

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;800&family=Plus+Jakarta+Sans:wght@300;400;600;800&display=swap"
        rel="stylesheet">

    <!-- Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

    <link rel="stylesheet" href="../main.css">
    <link rel="stylesheet" href="../blog.css">
</head>

<body class="dark-mode">
    <div class="cursor"></div>
    <div class="cursor-follower"></div>

    <div id="blob-container">
        <div class="blob blob-1"></div>
        <div class="blob blob-2"></div>
        <div class="blob blob-3"></div>
    </div>

    <!-- Navigation -->
    <nav class="glass-nav">
        <div class="nav-container">
            <div class="logo">
                <a href="/" class="logo-text">Cyryl<span class="accent-text">.Bitangcol</span></a>
            </div>
            <div class="nav-links">
                <a href="/" class="nav-link">Home</a>
                <a href="/#projects" class="nav-link">Projects</a>
                <a href="/#services" class="nav-link">Services</a>
                <a href="/blog/" class="nav-link active">Blog</a>
                <a href="/about/" class="nav-link">About</a>
                <a href="/#contact" class="nav-link contact-btn">Let's talk</a>
            </div>
            <div class="nav-actions">
                <button id="theme-toggle" class="glass-btn icon-btn" title="Toggle Light/Dark Mode">
                    <i data-lucide="moon" class="dark-icon"></i>
                    <i data-lucide="sun" class="light-icon"></i>
                </button>
                <button class="mobile-menu-btn glass-btn icon-btn md:hidden">
                    <i data-lucide="menu"></i>
                </button>
            </div>
        </div>
    </nav>

    <main>
        <!-- Blog Hero Section -->
        <section class="blog-hero">
            <div class="container">
                <p class="section-tag centered-tag">INSIGHTS & ARTICLES</p>
                <h1 class="hero-title">Latest from the <span class="gradient-text">Blog</span></h1>
                <p class="section-desc">Thoughts, tutorials, and insights on modern web development and creative
                    design.</p>
            </div>
        </section>

        <!-- Blog Posts Grid -->
        <section class="blog-posts-section">
            <div class="container">
                <div class="blog-grid" id="blog-posts-container">
                    <!-- Loading State -->
                    <div class="loading-state" style="grid-column: 1/-1; text-align: center; padding: 4rem;">
                        <p>Loading the latest insights...</p>
                    </div>
                </div>
            </div>
        </section>

        <script>
            async function loadBlogPosts() {
                const container = document.getElementById('blog-posts-container');
                try {
                    const response = await fetch('/api/blog');
                    if (!response.ok) throw new Error('Failed to fetch');
                    const posts = await response.json();

                    if (!posts || posts.length === 0) {
                        container.innerHTML = '<div style="grid-column: 1/-1; text-align: center; padding: 4rem;"><p>No blog posts found yet. Check back soon!</p></div>';
                        return;
                    }

                    container.innerHTML = posts.map(post => `
                        <article class="blog-card glass-card animate-in">
                            <div class="blog-image"
                                style="background-image: url('${post.image_url || 'https://images.unsplash.com/photo-1498050108023-c5249f4df085?auto=format&fit=crop&w=800&q=80'}');">
                            </div>
                            <div class="blog-content">
                                <div class="blog-meta">
                                    <span>${new Date(post.published_at).toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' })}</span>
                                    <span>${post.category || 'Insights'}</span>
                                </div>
                                <h3><a href="/blog/${post.slug}" style="text-decoration: none; color: inherit;">${post.title}</a></h3>
                                <p class="blog-excerpt">${post.excerpt || ''}</p>
                                <a href="/blog/${post.slug}" class="read-more-link">Read Article <i data-lucide="arrow-right"></i></a>
                            </div>
                        </article>
                    `).join('');

                    // Re-initialize icons
                    if (window.lucide) window.lucide.createIcons();
                } catch (error) {
                    console.error('Error loading posts:', error);
                    container.innerHTML = '<div style="grid-column: 1/-1; text-align: center; padding: 4rem; color: #ef4444;"><p>Error loading blog posts. Please try again later.</p></div>';
                }
            }

            document.addEventListener('DOMContentLoaded', loadBlogPosts);
        </script>

        <!-- Newsletter Section -->
        <section id="contact" class="contact-section">
            <div class="container">
                <div class="contact-card glass-card">
                    <div class="contact-grid">
                        <div class="contact-info-panel">
                            <h2 class="section-title text-left text-white">Stay in the <span
                                    class="gradient-text">loop</span>.</h2>
                            <p class="text-gray-300 mt-4">Subscribe to the newsletter to get the latest articles and
                                creative tips delivered straight to your inbox.</p>

                            <div class="social-links mt-8">
                                <a href="#" class="social-link"><i data-lucide="github"></i> GitHub</a>
                                <a href="#" class="social-link"><i data-lucide="linkedin"></i> LinkedIn</a>
                            </div>
                        </div>

                        <form class="contact-form">
                            <div class="form-group">
                                <label>Email Address</label>
                                <input type="email" placeholder="your@email.com" required>
                            </div>
                            <button type="submit" class="submit-btn primary-btn w-full">Subscribe Now</button>
                        </form>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="glass-footer">
        <div class="container">
            <div class="footer-wrap">
                <p>&copy; 2026 Cyryl Bitangcol. All Rights Reserved.</p>
                <div class="footer-links">
                    <a href="#">Privacy Policy</a>
                    <a href="#">Terms of Use</a>
                </div>
            </div>
        </div>
    </footer>

    <script src="../main.js"></script>
</body>

</html>